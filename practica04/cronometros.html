<!DOCTYPE html>
<html lang="es-ES">

<head>
    <meta charset="utf-8">
    <title>Cronometros</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/crono.js"></script>
    <style>
        #crono1 {
            text-align: left;
            float: left;
            margin-left: 150px;
            margin-top: 20px;
        }
        h1 {
            text-align: center;
        }
        #crono2 {
            text-align: right;
            float: right;
            margin-right: 150px;
            margin-top: 20px;
        }
        table {
            text-align: center;
        }
    </style>
</head>

<body>
    <div>
        <span id="crono1">
            <h1 id="display">00:00:00:00</h1>
            <div class="buttons">
                <button id="reset">Reset</button>
                <button id="ss">Start/Stop</button>
                <button id="partial">Partial</button>
            </div>
            <table align="center" id="tablepartials"></table>
        </span>
        <span id="crono2">
            <h1 id="display2">00:00:00:00</h1>
            <div class="buttons2">
                <button id="reset2">Reset</button>
                <button id="ss2">Start/Stop</button>
                <button id="partial2">Partial</button>
            </div>
            <table align="center" id="tablepartials2"></table>
        </span>
    </div>
    <script>
        $(document).ready(function() {
            let crono = newCrono();
            let showtime = {};
            let crono2 = newCrono();
            let showtime2 = {};
            $("#ss").click(function(){
                showtime = aceptaTecla("s", crono);
                //console.log("EN EL HTML: ",showtime);
                $("#display").text(showtime.display);
            });

            $("#reset").click(function(){
                showtime = aceptaTecla("r", crono);
                //console.log("EN EL HTML: ",showtime);
                $("#display").text(showtime.display);
                $("#tablepartials").text(showtime.partials);
            });

            $("#partial").click(function(){
                showtime = aceptaTecla("p", crono);
                console.log("EN EL HTML: ",showtime);
                $("#display").text(showtime.display);
                $("#tablepartials").text([]);
                for (let i = 0; i < showtime.partials.length; i++) {
                    //console.log("Elemento ",i," de partials: ", showtime.partials[i]);
                    let text;
                    text = '<tr><td>'+showtime.partials[i]+'</td></tr>';
                    $("#tablepartials").append(text);
                }
            });

            $("#ss2").click(function(){
                showtime2 = aceptaTecla("s", crono2);
                console.log("EN EL HTML: ",showtime2);
                $("#display2").text(showtime2.display);
            });

            $("#reset2").click(function(){
                showtime2 = aceptaTecla("r", crono2);
                console.log("EN EL HTML: ",showtime2);
                $("#display2").text(showtime2.display);
                $("#tablepartials2").text(showtime2.partials);
            });

            $("#partial2").click(function(){
                showtime2 = aceptaTecla("p", crono2);
                console.log("EN EL HTML: ",showtime2);
                $("#display2").text(showtime2.display);
                $("#tablepartials2").text([]);
                for (let i = 0; i < showtime2.partials.length; i++) {
                    //console.log("Elemento ",i," de partials: ", showtime.partials[i]);
                    let text;
                    text = '<tr><td>'+showtime2.partials[i]+'</td></tr>';
                    $("#tablepartials2").append(text);
                }
            });
        });
    </script>
</body>

</html>
